
  {
    "name": "treatment-sql-data-ready-couchbase-source-connector1",
    "config": {
        "connector.class": "com.couchbase.connect.kafka.CouchbaseSourceConnector",
        "tasks.max": "1",
        "couchbase.topic": "path.treatment.sql.data",
        "couchbase.seed.nodes": "couchbases://cb.wf6ax-4hcobxv2w.cloud.couchbase.com",
        "couchbase.bootstrap.timeout": "60s",
        "couchbase.bucket": "Path_Lite_Dev3",
        "couchbase.collections": "treatment.Encounter",
       "couchbase.enable.tls":"true",
       "couchbase.trust.certificate.path":"C:\\Temp\\kafka_2.13-3.9.1\\config\\certs\\PATH-DEV-root-certificate.txt",
        "couchbase.username": "mt-dev",
        "couchbase.password": "D@v!t@2025",
        //custom fikter for events 
        "couchbase.event.filter":"com.couchbase.connect.kafka.example.CustomFilter",
        "couchbase.custom.filter.rocksdb.path":"C:/Temp/rocksdb_store",
        
        "couchbase.source.handler": "com.couchbase.connect.kafka.handler.source.RawJsonSourceHandler",
        "key.converter": "org.apache.kafka.connect.storage.StringConverter",
        "value.converter": "org.apache.kafka.connect.json.JsonConverter",
        "value.converter.schemas.enable":"false",
        "couchbase.stream.from": "SAVED_OFFSET_OR_BEGINNING",
        "couchbase.compression": "ENABLED",
        "couchbase.flow.control.buffer": "64m",
        "couchbase.persistence.polling.interval": "100ms",
        //configuration for custom tranforms
         "transforms": "filterDocs,dropFields",
         "transforms.filterDocs.type": "com.example.kafka.connect.transforms.ConditionalDocumentFilter",
         "transforms.filterDocs.couchbase.conditional.filter.expr": "id != null && (txStatusTracker == null || ( txStatusTracker.current.value != null && txStatusTracker.current.value == 'none'))",
         //configuration to drop the feilds ( couchbase inbuilt SMT only accepts MAP)
        "transforms.dropFields.type":"org.apache.kafka.connect.transforms.ReplaceField$Value",
        "transforms.dropFields.blacklist":"txStatusTracker,practitioner,hospital,serviceType,demographicsAndAdmission,order,txWaitTimeList,preTxDetails,patientEducation,timeoutSafteryCheck,NonTxService,hdIntraTreatment,aphresisIntraTreatment,pdIntraTreatment,aphersisIntraTreatment,pdIntraTreatment,crrIntraTreatment,postTxDetails,reviewSubmit,statusRecord,acoiData,billingOnly,txStatusTracker,syncStatusTracker,_partition,deviceMeta,enteredInError,parentReference,reasonType,_modifiedBy",
        "errors.tolerance": "all",
        "errors.log.enable": "true",
        "errors.log.include.messages": "true"
    }
}